{"ast":null,"code":"var _jsxFileName = \"/Users/SabareshK/Documents/my/git-mirror/src/components/UserDetails.js\";\nimport React, { useState, useEffect } from \"react\";\nimport Nav from \"./Nav\";\nimport { tabReqs } from \"./config\";\nimport FilterBar from \"./FilterBar\";\nimport Repositories from \"./Repositories\";\n\nconst UserDetails = ({\n  counts\n}) => {\n  const [activeTab, setActiveTab] = useState(\"Repositories\");\n  const [userDetails, setUserDetails] = useState([]);\n  const [searchResult, setSearchResult] = useState([]);\n  const [hasError, setErrors] = useState(false);\n  const [isFetchingData, setFetchingData] = useState(true);\n  const [filter, setFilters] = useState({\n    searchTerm: null,\n    language: null\n  });\n\n  const changeTab = tabName => {\n    setActiveTab(tabName);\n  };\n\n  const searchRepo = ({\n    searchTerm = null,\n    language = null\n  }) => {\n    setFilters({\n      searchTerm: searchTerm,\n      language: language\n    });\n    if (!searchTerm && !language) setSearchResult([]);\n    let result = userDetails.filter(repo => {\n      let filtered = true;\n      if (searchTerm && searchTerm != repo.name.substring(0, searchTerm.length).toLowerCase()) filtered = false;\n      if (language && language != repo.language.toLowerCase()) filtered = false;\n      return filtered;\n    });\n    setSearchResult(result);\n    console.log(searchTerm, language);\n  };\n\n  async function fetchData() {\n    try {\n      const userRepos = await fetch(tabReqs[activeTab]);\n      userRepos.json().then(res => setUserDetails(res)).catch(err => setErrors(err));\n      setFetchingData(false);\n    } catch (err) {\n      setErrors(err);\n    }\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [activeTab]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    counts: counts,\n    activeTab: activeTab,\n    changeTab: changeTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }), !isFetchingData && /*#__PURE__*/React.createElement(React.Fragment, null, !hasError && activeTab == \"Repositories\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(FilterBar, {\n    searchRepo: searchRepo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Repositories, {\n    repoData: filter.searchTerm || filter.type ? searchResult : userDetails,\n    filter: filter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  })), hasError && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 24\n    }\n  }, \"Error\")), isFetchingData && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 26\n    }\n  }, \"Loading...\"));\n};\n\nexport default UserDetails;","map":{"version":3,"sources":["/Users/SabareshK/Documents/my/git-mirror/src/components/UserDetails.js"],"names":["React","useState","useEffect","Nav","tabReqs","FilterBar","Repositories","UserDetails","counts","activeTab","setActiveTab","userDetails","setUserDetails","searchResult","setSearchResult","hasError","setErrors","isFetchingData","setFetchingData","filter","setFilters","searchTerm","language","changeTab","tabName","searchRepo","result","repo","filtered","name","substring","length","toLowerCase","console","log","fetchData","userRepos","fetch","json","then","res","catch","err","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Nav from \"./Nav\";\nimport { tabReqs } from \"./config\";\nimport FilterBar from \"./FilterBar\";\nimport Repositories from \"./Repositories\";\n\nconst UserDetails = ({ counts }) => {\n  const [activeTab, setActiveTab] = useState(\"Repositories\");\n  const [userDetails, setUserDetails] = useState([]);\n  const [searchResult, setSearchResult] = useState([]);\n  const [hasError, setErrors] = useState(false);\n  const [isFetchingData, setFetchingData] = useState(true);\n  const [filter, setFilters] = useState({ searchTerm: null, language: null });\n\n  const changeTab = (tabName) => {\n    setActiveTab(tabName);\n  };\n\n  const searchRepo = ({ searchTerm = null, language = null }) => {\n    setFilters({ searchTerm: searchTerm, language: language });\n    if (!searchTerm && !language) setSearchResult([]);\n    let result = userDetails.filter((repo) => {\n      let filtered = true;\n      if (\n        searchTerm &&\n        searchTerm != repo.name.substring(0, searchTerm.length).toLowerCase()\n      )\n        filtered = false;\n      if (language && language != repo.language.toLowerCase()) filtered = false;\n      return filtered;\n    });\n    setSearchResult(result);\n    console.log(searchTerm, language);\n  };\n\n  async function fetchData() {\n    try {\n      const userRepos = await fetch(tabReqs[activeTab]);\n      userRepos\n        .json()\n        .then((res) => setUserDetails(res))\n        .catch((err) => setErrors(err));\n      setFetchingData(false);\n    } catch (err) {\n      setErrors(err);\n    }\n  }\n\n  useEffect(() => {\n    fetchData();\n  }, [activeTab]);\n\n  return (\n    <div className='user-details'>\n      <Nav counts={counts} activeTab={activeTab} changeTab={changeTab} />\n      {!isFetchingData && (\n        <>\n          {!hasError && activeTab == \"Repositories\" && (\n            <>\n              <FilterBar searchRepo={searchRepo} />\n              <Repositories\n                repoData={\n                  filter.searchTerm || filter.type ? searchResult : userDetails\n                }\n                filter={filter}\n              />\n            </>\n          )}\n          {hasError && <div>Error</div>}\n        </>\n      )}\n      {isFetchingData && <div>Loading...</div>}\n    </div>\n  );\n};\n\nexport default UserDetails;\n"]},"metadata":{},"sourceType":"module"}